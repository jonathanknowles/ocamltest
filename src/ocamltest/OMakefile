# Targets not related to filenames.
.PHONY: clean

# The generated, OMake-related files.
# (Cannot delete the .omakedb from within omake. Probably better to hide these
#  files from hg/git, rather than deleting them.)
OMAKE_GENERATED=*.{omc} .omakedb .omakedb.lock

# The generated, OCaml-related files.
OCAML_GENERATED=*.{a,cmi,cmx,cmxa,o,opt}

# All generated files (used for the 'clean' target).
GENERATED=$(OCAML_GENERATED) # $(OMAKE_GENERATED)

# The ml and mli files required to build the library.
FILES[] = ocamltest

# The meta name of the library.
LIB_NAME = ocamltest

# The instructions to build the library file(s).
# (LIB = the resulting filename(s))
LIB_FILES = $(OCamlLibrary $(LIB_NAME), $(FILES))

# Build library by default.
.DEFAULT: $(LIB_FILES)

# Clean the library and other intermediate files.
clean:
  rm -f $(LIB_FILES) $(GENERATED)

# VERSION = 0.1
# 
# META: META.in
#   sed 's/@VERSION@/$(VERSION)/g' < $< > $@
# 
# .PHONY: install
# install: ocamltest META
#   ocamlfind install -ldconf ignore ocamltest META *.cm{i,x,xa}
# 
# .PHONY: remove
#   ocamlfind remove ocamltest